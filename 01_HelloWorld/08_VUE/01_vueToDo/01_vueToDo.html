<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Todo</title>
    <style>
        .completed {
            text-decoration: line-through;
            font-style: italic;
        }
    </style>
</head>
<body>
    
    <div id="app">

        <!-- {{ todos }} -->
        <!-- 'v-' 접두사가 붙으면, vew directive라고 부른다. -->
        <!-- <ul> -->
            <!-- 'v-for' 가 있는 Element(node)가 반복한다 -->

            <!-- <li v-for="todo in todos">{{ todo }}</li> -->
        <!-- </ul> -->

        <ul>
            <!-- 'v-if' 는 평가식이 true일 때만 보인다 -->
            <!-- 'v-for'가 'v-if'보다 우선순위를 가진다. -->
            <!-- 'v-for'가 'v-on'의 우선순위를 가진다. -->
            <li v-for="todo in todos" v-if="!todo.completed" v-on:click="check(todo)">
                <!-- v-on:click="todo.completed = true"-->
                <!-- 우선순위가 for에 있어서 click이 실행 될 때 todo가 넘어갈 수 있게 된다. -->
                {{ todo.content }}
            </li>
            <li v-else v-on:click="check(todo)">
                [완료!] {{ todo.content }}
            </li>
            <!-- elif -->
            <!-- <li v-else-if=""></li> -->
            <!-- 'v-else' 와 'v-if'는 붙어 있어야 한다. -->
        </ul>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>
        // new Vue() 만 써도 상관 없다. consol test를 위해 app을 잡아 둔 것일 뿐임
        const app = new Vue({
            el: '#app',
            data: { // data 가 수정된다 === DOM re-render 가 일어난다.
                todos: [
                    '저녁메뉴 고민하기',
                    '자소서 쓰기',

                    {
                        content: '저녁 메뉴 고민',
                        completed: false,
                    },
                    {
                        content: '복습하기',
                        completed: false,
                    },
                    {
                        content: '공부하기',
                        completed: true,
                    },
                    {
                        content: '집에 가기',
                        completed: true,
                    },
                ],
            },
            methods: {
                check: function(todo) {
                    // todo.completed = todo.completed ? false: true
                    todo.completed = !todo.completed;
                },
            },
        });
    </script>
</body>
</html>